{
  "query": "SELECT m.*, \n  s.name as sender_name, s.role as sender_role,\n  r.name as recipient_name, r.role as recipient_role\nFROM messages m\nLEFT JOIN users s ON m.sender_id = s.id\nLEFT JOIN users r ON m.recipient_id = r.id\nORDER BY m.created_at DESC\nLIMIT 20",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2UdiNgsaUofG98U.a273b31256ed --database hfH9ioTEzRzswFjESim83C --execute SELECT m.*, \n  s.name as sender_name, s.role as sender_role,\n  r.name as recipient_name, r.role as recipient_role\nFROM messages m\nLEFT JOIN users s ON m.sender_id = s.id\nLEFT JOIN users r ON m.recipient_id = r.id\nORDER BY m.created_at DESC\nLIMIT 20",
  "rows": [
    {
      "id": "450015",
      "sender_id": "2100016",
      "recipient_id": "900067",
      "subject": "NULL",
      "content": "Test message from patient to doctor",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:20:27",
      "updated_at": "2026-01-05 12:20:27",
      "sender_name": "Sara Mohammed",
      "sender_role": "patient",
      "recipient_name": "Hhwaljanabi",
      "recipient_role": "clinician"
    },
    {
      "id": "450014",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:20:27",
      "updated_at": "2026-01-05 12:20:27",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450016",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-05 12:20:28",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:20:27",
      "updated_at": "2026-01-05 12:20:27",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450010",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:06:52",
      "updated_at": "2026-01-05 12:06:52",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450012",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-05 12:06:53",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:06:52",
      "updated_at": "2026-01-05 12:06:52",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450011",
      "sender_id": "2100016",
      "recipient_id": "900067",
      "subject": "NULL",
      "content": "Test message from patient to doctor",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:06:52",
      "updated_at": "2026-01-05 12:06:52",
      "sender_name": "Sara Mohammed",
      "sender_role": "patient",
      "recipient_name": "Hhwaljanabi",
      "recipient_role": "clinician"
    },
    {
      "id": "450007",
      "sender_id": "2100016",
      "recipient_id": "900067",
      "subject": "NULL",
      "content": "Test message from patient to doctor",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:04:19",
      "updated_at": "2026-01-05 12:04:19",
      "sender_name": "Sara Mohammed",
      "sender_role": "patient",
      "recipient_name": "Hhwaljanabi",
      "recipient_role": "clinician"
    },
    {
      "id": "450006",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:04:19",
      "updated_at": "2026-01-05 12:04:19",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450008",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-05 12:04:19",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 12:04:19",
      "updated_at": "2026-01-05 12:04:19",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450002",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 10:34:29",
      "updated_at": "2026-01-05 10:34:29",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450004",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-05 10:34:30",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 10:34:29",
      "updated_at": "2026-01-05 10:34:29",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "450003",
      "sender_id": "2100016",
      "recipient_id": "900067",
      "subject": "NULL",
      "content": "Test message from patient to doctor",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-05 10:34:29",
      "updated_at": "2026-01-05 10:34:29",
      "sender_name": "Sara Mohammed",
      "sender_role": "patient",
      "recipient_name": "Hhwaljanabi",
      "recipient_role": "clinician"
    },
    {
      "id": "420012",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-04 11:57:46",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:57:46",
      "updated_at": "2026-01-04 11:57:46",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "420011",
      "sender_id": "2100016",
      "recipient_id": "900067",
      "subject": "NULL",
      "content": "Test message from patient to doctor",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:57:46",
      "updated_at": "2026-01-04 11:57:46",
      "sender_name": "Sara Mohammed",
      "sender_role": "patient",
      "recipient_name": "Hhwaljanabi",
      "recipient_role": "clinician"
    },
    {
      "id": "420010",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:57:46",
      "updated_at": "2026-01-04 11:57:46",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "420008",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-04 11:42:52",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:42:51",
      "updated_at": "2026-01-04 11:42:51",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "420007",
      "sender_id": "2100016",
      "recipient_id": "900067",
      "subject": "NULL",
      "content": "Test message from patient to doctor",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:42:51",
      "updated_at": "2026-01-04 11:42:51",
      "sender_name": "Sara Mohammed",
      "sender_role": "patient",
      "recipient_name": "Hhwaljanabi",
      "recipient_role": "clinician"
    },
    {
      "id": "420006",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:42:51",
      "updated_at": "2026-01-04 11:42:51",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "420004",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message for read status",
      "encrypted": "1",
      "read": "1",
      "read_at": "2026-01-04 11:38:20",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:38:20",
      "updated_at": "2026-01-04 11:38:20",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    },
    {
      "id": "420002",
      "sender_id": "900067",
      "recipient_id": "2100016",
      "subject": "NULL",
      "content": "Test message from doctor to patient",
      "encrypted": "1",
      "read": "0",
      "read_at": "NULL",
      "thread_id": "NULL",
      "reply_to_id": "NULL",
      "case_id": "NULL",
      "attachments": "NULL",
      "deleted_by_sender": "0",
      "deleted_by_recipient": "0",
      "created_at": "2026-01-04 11:38:19",
      "updated_at": "2026-01-04 11:38:19",
      "sender_name": "Hhwaljanabi",
      "sender_role": "clinician",
      "recipient_name": "Sara Mohammed",
      "recipient_role": "patient"
    }
  ],
  "messages": [],
  "stdout": "id\tsender_id\trecipient_id\tsubject\tcontent\tencrypted\tread\tread_at\tthread_id\treply_to_id\tcase_id\tattachments\tdeleted_by_sender\tdeleted_by_recipient\tcreated_at\tupdated_at\tsender_name\tsender_role\trecipient_name\trecipient_role\n450015\t2100016\t900067\tNULL\tTest message from patient to doctor\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:20:27\t2026-01-05 12:20:27\tSara Mohammed\tpatient\tHhwaljanabi\tclinician\n450014\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:20:27\t2026-01-05 12:20:27\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450016\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-05 12:20:28\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:20:27\t2026-01-05 12:20:27\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450010\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:06:52\t2026-01-05 12:06:52\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450012\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-05 12:06:53\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:06:52\t2026-01-05 12:06:52\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450011\t2100016\t900067\tNULL\tTest message from patient to doctor\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:06:52\t2026-01-05 12:06:52\tSara Mohammed\tpatient\tHhwaljanabi\tclinician\n450007\t2100016\t900067\tNULL\tTest message from patient to doctor\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:04:19\t2026-01-05 12:04:19\tSara Mohammed\tpatient\tHhwaljanabi\tclinician\n450006\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:04:19\t2026-01-05 12:04:19\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450008\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-05 12:04:19\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 12:04:19\t2026-01-05 12:04:19\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450002\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 10:34:29\t2026-01-05 10:34:29\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450004\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-05 10:34:30\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 10:34:29\t2026-01-05 10:34:29\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n450003\t2100016\t900067\tNULL\tTest message from patient to doctor\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-05 10:34:29\t2026-01-05 10:34:29\tSara Mohammed\tpatient\tHhwaljanabi\tclinician\n420012\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-04 11:57:46\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:57:46\t2026-01-04 11:57:46\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n420011\t2100016\t900067\tNULL\tTest message from patient to doctor\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:57:46\t2026-01-04 11:57:46\tSara Mohammed\tpatient\tHhwaljanabi\tclinician\n420010\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:57:46\t2026-01-04 11:57:46\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n420008\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-04 11:42:52\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:42:51\t2026-01-04 11:42:51\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n420007\t2100016\t900067\tNULL\tTest message from patient to doctor\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:42:51\t2026-01-04 11:42:51\tSara Mohammed\tpatient\tHhwaljanabi\tclinician\n420006\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:42:51\t2026-01-04 11:42:51\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n420004\t900067\t2100016\tNULL\tTest message for read status\t1\t1\t2026-01-04 11:38:20\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:38:20\t2026-01-04 11:38:20\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n420002\t900067\t2100016\tNULL\tTest message from doctor to patient\t1\t0\tNULL\tNULL\tNULL\tNULL\tNULL\t0\t0\t2026-01-04 11:38:19\t2026-01-04 11:38:19\tHhwaljanabi\tclinician\tSara Mohammed\tpatient\n",
  "stderr": "",
  "execution_time_ms": 62
}