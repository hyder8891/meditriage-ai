{
  "query": "CREATE TABLE IF NOT EXISTS email_preferences (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL UNIQUE,\n  welcome_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  verification_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  password_reset_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  security_alerts BOOLEAN DEFAULT TRUE NOT NULL,\n  appointment_confirmations BOOLEAN DEFAULT TRUE NOT NULL,\n  appointment_reminders BOOLEAN DEFAULT TRUE NOT NULL,\n  appointment_reminder_frequency ENUM('instant', 'daily', 'weekly', 'off') DEFAULT 'instant' NOT NULL,\n  medication_reminders BOOLEAN DEFAULT TRUE NOT NULL,\n  medication_reminder_frequency ENUM('instant', 'daily', 'weekly', 'off') DEFAULT 'instant' NOT NULL,\n  lab_result_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  critical_lab_alerts BOOLEAN DEFAULT TRUE NOT NULL,\n  new_message_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  message_notification_frequency ENUM('instant', 'daily', 'weekly', 'off') DEFAULT 'instant' NOT NULL,\n  unread_message_digest BOOLEAN DEFAULT FALSE NOT NULL,\n  subscription_confirmations BOOLEAN DEFAULT TRUE NOT NULL,\n  payment_receipts BOOLEAN DEFAULT TRUE NOT NULL,\n  invoice_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  subscription_expiry_warnings BOOLEAN DEFAULT TRUE NOT NULL,\n  payment_failure_alerts BOOLEAN DEFAULT TRUE NOT NULL,\n  quiet_hours_enabled BOOLEAN DEFAULT FALSE NOT NULL,\n  quiet_hours_start VARCHAR(5) DEFAULT '22:00',\n  quiet_hours_end VARCHAR(5) DEFAULT '08:00',\n  all_emails_enabled BOOLEAN DEFAULT TRUE NOT NULL,\n  marketing_emails BOOLEAN DEFAULT FALSE NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS user_settings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL UNIQUE,\n  language ENUM('en', 'ar') DEFAULT 'ar' NOT NULL,\n  timezone VARCHAR(50) DEFAULT 'Asia/Baghdad' NOT NULL,\n  date_format VARCHAR(20) DEFAULT 'DD/MM/YYYY' NOT NULL,\n  time_format ENUM('12h', '24h') DEFAULT '24h' NOT NULL,\n  desktop_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  sound_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  profile_visibility ENUM('public', 'private', 'doctors_only') DEFAULT 'doctors_only' NOT NULL,\n  show_online_status BOOLEAN DEFAULT TRUE NOT NULL,\n  auto_accept_patients BOOLEAN DEFAULT FALSE NOT NULL,\n  max_daily_consultations INT DEFAULT 20,\n  consultation_duration INT DEFAULT 30,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS account_activity (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL,\n  activity_type ENUM('login', 'logout', 'password_change', 'email_change', 'profile_update', 'settings_change', 'failed_login') NOT NULL,\n  ip_address VARCHAR(45),\n  user_agent TEXT,\n  device_type VARCHAR(50),\n  browser VARCHAR(100),\n  location VARCHAR(255),\n  success BOOLEAN DEFAULT TRUE NOT NULL,\n  failure_reason TEXT,\n  metadata TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2UdiNgsaUofG98U.a273b31256ed --database hfH9ioTEzRzswFjESim83C --execute CREATE TABLE IF NOT EXISTS email_preferences (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL UNIQUE,\n  welcome_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  verification_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  password_reset_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  security_alerts BOOLEAN DEFAULT TRUE NOT NULL,\n  appointment_confirmations BOOLEAN DEFAULT TRUE NOT NULL,\n  appointment_reminders BOOLEAN DEFAULT TRUE NOT NULL,\n  appointment_reminder_frequency ENUM('instant', 'daily', 'weekly', 'off') DEFAULT 'instant' NOT NULL,\n  medication_reminders BOOLEAN DEFAULT TRUE NOT NULL,\n  medication_reminder_frequency ENUM('instant', 'daily', 'weekly', 'off') DEFAULT 'instant' NOT NULL,\n  lab_result_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  critical_lab_alerts BOOLEAN DEFAULT TRUE NOT NULL,\n  new_message_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  message_notification_frequency ENUM('instant', 'daily', 'weekly', 'off') DEFAULT 'instant' NOT NULL,\n  unread_message_digest BOOLEAN DEFAULT FALSE NOT NULL,\n  subscription_confirmations BOOLEAN DEFAULT TRUE NOT NULL,\n  payment_receipts BOOLEAN DEFAULT TRUE NOT NULL,\n  invoice_emails BOOLEAN DEFAULT TRUE NOT NULL,\n  subscription_expiry_warnings BOOLEAN DEFAULT TRUE NOT NULL,\n  payment_failure_alerts BOOLEAN DEFAULT TRUE NOT NULL,\n  quiet_hours_enabled BOOLEAN DEFAULT FALSE NOT NULL,\n  quiet_hours_start VARCHAR(5) DEFAULT '22:00',\n  quiet_hours_end VARCHAR(5) DEFAULT '08:00',\n  all_emails_enabled BOOLEAN DEFAULT TRUE NOT NULL,\n  marketing_emails BOOLEAN DEFAULT FALSE NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS user_settings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL UNIQUE,\n  language ENUM('en', 'ar') DEFAULT 'ar' NOT NULL,\n  timezone VARCHAR(50) DEFAULT 'Asia/Baghdad' NOT NULL,\n  date_format VARCHAR(20) DEFAULT 'DD/MM/YYYY' NOT NULL,\n  time_format ENUM('12h', '24h') DEFAULT '24h' NOT NULL,\n  desktop_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  sound_notifications BOOLEAN DEFAULT TRUE NOT NULL,\n  profile_visibility ENUM('public', 'private', 'doctors_only') DEFAULT 'doctors_only' NOT NULL,\n  show_online_status BOOLEAN DEFAULT TRUE NOT NULL,\n  auto_accept_patients BOOLEAN DEFAULT FALSE NOT NULL,\n  max_daily_consultations INT DEFAULT 20,\n  consultation_duration INT DEFAULT 30,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS account_activity (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  user_id INT NOT NULL,\n  activity_type ENUM('login', 'logout', 'password_change', 'email_change', 'profile_update', 'settings_change', 'failed_login') NOT NULL,\n  ip_address VARCHAR(45),\n  user_agent TEXT,\n  device_type VARCHAR(50),\n  browser VARCHAR(100),\n  location VARCHAR(255),\n  success BOOLEAN DEFAULT TRUE NOT NULL,\n  failure_reason TEXT,\n  metadata TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2609
}